<!--pages/teacher/home/home.wxml-->
<view class="home-container">
  <!-- çŠ¶æ€æ  -->
  <view class="status-bar">
    <text class="time">9:41</text>
    <view class="status-icons">
      <text class="signal">ğŸ“¶</text>
      <text class="battery">ğŸ”‹100%</text>
    </view>
  </view>

  <!-- å¯¼èˆªæ  -->
  <view class="nav-bar">
    <view class="nav-title">æ•™å¸ˆç®¡ç†é¢æ¿</view>
    <view class="nav-actions">
      <view class="user-info">
        <text class="user-name">{{userInfo.name}}</text>
      </view>
      <view class="logout-btn" bindtap="onLogout">
        <text class="logout-icon">ğŸšª</text>
      </view>
    </view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content">
    <!-- ç»Ÿè®¡å¡ç‰‡ -->
    <view class="stats-section">
      <view class="stats-grid">
        <view class="stat-card">
          <view class="stat-number">{{statistics.totalTasks}}</view>
          <view class="stat-label">æ€»ä»»åŠ¡æ•°</view>
        </view>
        <view class="stat-card">
          <view class="stat-number">{{statistics.activeTasks}}</view>
          <view class="stat-label">è¿›è¡Œä¸­</view>
        </view>
        <view class="stat-card">
          <view class="stat-number">{{statistics.totalSubmissions}}</view>
          <view class="stat-label">æ€»æäº¤</view>
        </view>
        <view class="stat-card">
          <view class="stat-number">{{statistics.pendingReviews}}</view>
          <view class="stat-label">å¾…æ‰¹é˜…</view>
        </view>
      </view>
    </view>

    <!-- å¿«æ·æ“ä½œ -->
    <view class="quick-actions">
      <view class="section-title">å¿«æ·æ“ä½œ</view>
      <view class="action-grid">
        <view class="action-item" bindtap="onPublishTask">
          <view class="action-icon">ğŸ“</view>
          <view class="action-text">å‘å¸ƒä»»åŠ¡</view>
        </view>
        <view class="action-item" bindtap="onViewSubmissions">
          <view class="action-icon">ğŸ“‹</view>
          <view class="action-text">æŸ¥çœ‹æäº¤</view>
        </view>
        <view class="action-item" bindtap="onViewStatistics">
          <view class="action-icon">ğŸ“Š</view>
          <view class="action-text">ç»Ÿè®¡æŠ¥å‘Š</view>
        </view>
        <view class="action-item" bindtap="onManageFiles">
          <view class="action-icon">ğŸ“</view>
          <view class="action-text">æ–‡ä»¶ç®¡ç†</view>
        </view>
      </view>
    </view>

    <!-- ä»»åŠ¡åˆ—è¡¨ -->
    <view class="task-section">
      <view class="section-header">
        <view class="section-title">æˆ‘çš„ä»»åŠ¡</view>
        <view class="section-more" bindtap="onViewAllTasks">æŸ¥çœ‹å…¨éƒ¨</view>
      </view>
      
      <view class="task-list" wx:if="{{!loading}}">
        <view class="task-item" wx:for="{{taskList}}" wx:key="id" bindtap="onViewTask" data-id="{{item.id}}">
          <view class="task-header">
            <view class="task-title">{{item.title}}</view>
            <view class="task-status status-{{item.status}}">{{item.status_text}}</view>
          </view>
          <view class="task-info">
            <view class="task-desc">{{item.description}}</view>
            <view class="task-meta">
              <text class="task-date">æˆªæ­¢: {{item.end_time}}</text>
              <text class="task-count">{{item.submitted_count}}/{{item.total_students}} å·²æäº¤</text>
            </view>
          </view>
        </view>
        
        <view class="empty-state" wx:if="{{taskList.length === 0}}">
          <view class="empty-icon">ğŸ“</view>
          <view class="empty-text">æš‚æ— ä»»åŠ¡</view>
          <view class="empty-desc">ç‚¹å‡»ä¸Šæ–¹"å‘å¸ƒä»»åŠ¡"å¼€å§‹åˆ›å»º</view>
        </view>
      </view>
      
      <view class="loading-state" wx:if="{{loading}}">
        <view class="loading-text">åŠ è½½ä¸­...</view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨å¯¼èˆª -->
  <view class="bottom-nav">
    <view class="nav-item active">
      <view class="nav-icon">ğŸ </view>
      <view class="nav-text">é¦–é¡µ</view>
    </view>
    <view class="nav-item" bindtap="onPublishTask">
      <view class="nav-icon">ğŸ“</view>
      <view class="nav-text">å‘å¸ƒ</view>
    </view>
    <view class="nav-item" bindtap="onViewSubmissions">
      <view class="nav-icon">ğŸ“‹</view>
      <view class="nav-text">æäº¤</view>
    </view>
    <view class="nav-item" bindtap="onViewStatistics">
      <view class="nav-icon">ğŸ“Š</view>
      <view class="nav-text">ç»Ÿè®¡</view>
    </view>
  </view>
</view>
